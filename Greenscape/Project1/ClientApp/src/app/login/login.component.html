<div>
  <div class="card">

    <h2 class="login-title">Conecteaza-te</h2>

    <p style="text-align: center; color: #2a8033;" class="loginSuccess" *ngIf="loginSuccess">
      Conectare realizată cu succes! Veți fi redirecționat către pagina de start.
    </p>

    <form novalidate (ngSubmit)="save()" [formGroup]="loginForm">

      <div class="form-group row mb-2">
        <label class="col-md-2 col-form-label" for="usernameId"><i class="fa-solid fa-user"></i></label>
        <div class="col-md-8">
          <input class="form-control" id="usernameId" type="text" placeholder="username (required)"
                 formControlName="username" [ngClass]="{'is-invalid': (loginForm.get('username')?.touched ||
                                                    loginForm.get('username')?.dirty) &&
                                                    !loginForm.get('username')?.valid }" />
          <span class="invalid-feedback">
            <span *ngIf="loginForm.get('username')?.errors?.required">
              Please enter your username.
            </span>
            <span *ngIf="loginForm.get('username')?.errors?.minlength">
              Your username must have at least 3 characters.
            </span>
          </span>
        </div>
      </div>

      <div class="form-group row mb-2">
        <label class="col-md-2 col-form-label" for="passwordId"><i class="fa-solid fa-lock"></i></label>
        <div class="col-md-8 position-relative">
          <div class="input-group">
            <input class="form-control" id="passwordId" type="password" placeholder="password (required)"
                   formControlName="password" [ngClass]="{'is-invalid': (loginForm.get('password')?.touched ||
                    loginForm.get('password')?.dirty) &&
                    !loginForm.get('password')?.valid }" />
            <i class="fa-regular fa-eye position-absolute" style="right: 10px; top: 10px; cursor: pointer;"
               (click)="togglePasswordVisibility()"></i>

            <span class="invalid-feedback">
              <span *ngIf="loginForm.get('password')?.errors?.required">
                Please enter your password.
              </span>
              <span *ngIf="loginForm.get('password')?.errors?.minlength">
                Your password must have at least 6 characters.
              </span>
            </span>
          </div>
        </div>
      </div>

    </form>

    <button class="btn btn-dark" type="submit" style="width:80px"
            (click)="doLogin()"
            [title]="loginForm.valid ? 'Save your entered data' : 'Disabled until the form data is valid'"
            [disabled]="!loginForm.valid">
      Conecteaza-te
    </button>

    <p class="forgot-redirect" [routerLinkActive]="['link-active']" [routerLink]="['/forgot-pasword']">Ai uitat parola?</p>

  </div>
    <p class="signup-redirect" [routerLinkActive]="['link-active']" [routerLink]="['/signup']">Nu ai cont? Creeaza unul
        acum!</p>
</div>
